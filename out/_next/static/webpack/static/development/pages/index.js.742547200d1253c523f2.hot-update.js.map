{"version":3,"file":"static/webpack/static/development/pages/index.js.742547200d1253c523f2.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React from 'react'\nimport Layout from '../components/Layout'\nimport { makeStyles } from '@material-ui/core'\nimport clsx from 'clsx'\nimport FeatureImage from '../components/Home/FeatureImage'\nimport Features from '../components/Home/Features'\nimport RateABiz from '../components/Home/RateABiz'\nimport fetch from 'isomorphic-unfetch'\nimport rating_local from '../data/rating_local'\n\nconst API_URL =\n  'https://s3.amazonaws.com/cdn.rateabiz.com/reviews/ce34016f3fd1daf75a0daca4eb322873/reviews.json'\n\nconst useStyles = makeStyles(theme => ({\n  root: {},\n  full: {\n    gridColumn: 'full-start / full-end'\n  },\n  center: {\n    gridColumn: 'center-start / center-end'\n  },\n  featureImage: {\n    height: '60vh'\n  },\n  features: {\n    height: '30vw'\n  },\n  rateABiz: {\n    height: 500\n  },\n  about: {\n    background: theme.palette.primary.light,\n    height: 800\n  },\n  cta: {\n    background: theme.palette.secondary.light,\n    height: 200\n  },\n  maps: {\n    background: theme.palette.primary.light,\n    height: 400\n  }\n}))\n\nexport default function Index({ reviews, stats }) {\n  const classes = useStyles()\n  console.log('reviews', reviews)\n  return (\n    <Layout>\n      <div className={clsx(classes.featureImage, classes.full)}>\n        <FeatureImage />\n      </div>\n      <div className={clsx(classes.features, classes.center)}>\n        <Features />\n      </div>\n      <div className={clsx(classes.rateABiz, classes.full)}>\n        <RateABiz reviews={reviews} stats={stats} />\n      </div>\n      <div className={clsx(classes.about, classes.center)} />\n      <div className={clsx(classes.cta, classes.full)} />\n      <div className={clsx(classes.maps, classes.center)} />\n    </Layout>\n  )\n}\n\nIndex.getInitialProps = async function() {\n  const res = await fetch(API_URL)\n  const { reviews, stats } = await res.json()\n  return reviews\n    .filter(\n      ({\n        authorLastName,\n        createdDate,\n        authorFirstName,\n        rating,\n        id,\n        text,\n        title\n      }) => {\n        return !!(\n          authorFirstName &&\n          authorLastName &&\n          rating &&\n          id &&\n          text &&\n          title\n        )\n      }\n    )\n    .map(review => {\n      return {\n        name: review.authorFirstName + ' ' + review.authorLastName,\n        key: review.id,\n        review: {\n          title: review.title,\n          text: review.text\n        }\n      }\n    })\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAzBA;AAAA;AA+BA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAEA;AAAA;AAFA;AAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AAGA;AACA;AACA;AACA;AACA;AACA;AAFA;AAHA;AAQA;AACA;AAlCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}